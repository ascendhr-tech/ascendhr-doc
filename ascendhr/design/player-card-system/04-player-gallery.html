<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Squad Gallery | AscendHR</title>
  <link rel="stylesheet" href="../_shared/base.css">

  <style>
    /* === PLAYER GALLERY - Clean Theme (base.css aligned) === */

    /* Page Header - Clean White */
    .gallery-header {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      padding: 20px 24px;
      margin-bottom: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: var(--shadow-soft);
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .header-icon {
      width: 48px;
      height: 48px;
      background: var(--gradient-primary);
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }

    .header-title {
      font-size: 22px;
      font-weight: 700;
      color: var(--foreground);
      margin-bottom: 2px;
    }

    .header-subtitle {
      font-size: 13px;
      color: var(--muted-foreground);
    }

    .header-actions {
      display: flex;
      gap: 12px;
    }

    /* Stats Panel - Clean White Cards */
    .stats-row {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 16px;
      margin-bottom: 20px;
    }

    .stat-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      padding: 16px;
      text-align: center;
      box-shadow: var(--shadow-soft);
      transition: all 0.2s;
    }

    .stat-card:hover {
      box-shadow: var(--shadow-medium);
      transform: translateY(-2px);
    }

    .stat-value {
      font-size: 28px;
      font-weight: 800;
      color: var(--foreground);
      line-height: 1.2;
    }

    .stat-label {
      font-size: 12px;
      color: var(--muted-foreground);
      margin-top: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
    }

    /* Zone accent borders */
    .stat-card.zone-attack {
      border-left: 4px solid var(--zone-attack);
    }

    .stat-card.zone-midfield {
      border-left: 4px solid var(--zone-midfield);
    }

    .stat-card.zone-defense {
      border-left: 4px solid var(--zone-defense);
    }

    .stat-card.zone-support {
      border-left: 4px solid var(--zone-support);
    }

    /* Filter Bar - Clean */
    .filter-bar {
      display: flex;
      gap: 12px;
      margin-bottom: 20px;
      align-items: center;
      flex-wrap: wrap;
    }

    .search-box {
      display: flex;
      align-items: center;
      gap: 8px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius-md);
      padding: 10px 14px;
      flex: 0 0 260px;
      transition: all 0.2s;
    }

    .search-box:focus-within {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .search-box input {
      border: none;
      outline: none;
      width: 100%;
      font-size: 14px;
      background: transparent;
    }

    .filter-pills {
      display: flex;
      gap: 6px;
    }

    .filter-pill {
      padding: 8px 14px;
      border-radius: var(--radius-full);
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
      border: 1px solid var(--border);
      background: var(--card);
      color: var(--muted-foreground);
    }

    .filter-pill:hover {
      border-color: var(--foreground);
      color: var(--foreground);
    }

    .filter-pill.active {
      background: var(--primary);
      border-color: var(--primary);
      color: white;
    }

    .filter-pill .count {
      opacity: 0.7;
      margin-left: 4px;
    }

    .filter-spacer {
      flex: 1;
    }

    .results-info {
      font-size: 13px;
      color: var(--muted-foreground);
    }

    .results-info strong {
      color: var(--foreground);
    }

    /* Player Grid */
    .player-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 16px;
    }

    /* FIFA-Style Player Cards - Clean Theme */
    .fc-card {
      position: relative;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      overflow: hidden;
      cursor: pointer;
      transition: all 0.2s ease;
      text-decoration: none;
      color: inherit;
      box-shadow: var(--shadow-soft);
    }

    .fc-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-medium);
      text-decoration: none;
    }

    /* Card Header - Zone Gradient */
    .card-header {
      padding: 16px 12px 36px;
      text-align: center;
      position: relative;
    }

    .card-header.attack {
      background: linear-gradient(135deg, var(--zone-attack) 0%, #dc2626 100%);
    }

    .card-header.midfield {
      background: linear-gradient(135deg, var(--zone-midfield) 0%, #16a34a 100%);
    }

    .card-header.defense {
      background: linear-gradient(135deg, var(--zone-defense) 0%, #1d4ed8 100%);
    }

    .card-header.support {
      background: linear-gradient(135deg, var(--zone-support) 0%, #7c3aed 100%);
    }

    /* Rating Badge */
    .card-rating {
      position: absolute;
      top: 8px;
      left: 8px;
      background: rgba(255, 255, 255, 0.9);
      padding: 4px 10px;
      border-radius: var(--radius-full);
      font-weight: 800;
      font-size: 13px;
      color: var(--foreground);
      box-shadow: var(--shadow-soft);
    }

    /* Zone Badge */
    .card-zone {
      position: absolute;
      top: 8px;
      right: 8px;
      background: rgba(255, 255, 255, 0.2);
      padding: 3px 8px;
      border-radius: var(--radius-full);
      color: white;
      font-size: 10px;
      font-weight: 600;
    }

    /* Avatar */
    .card-avatar {
      width: 64px;
      height: 64px;
      border-radius: 50%;
      background: white;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      font-weight: 700;
      color: var(--foreground);
      position: relative;
      z-index: 1;
      box-shadow: var(--shadow-medium);
      border: 3px solid white;
      transform: translateY(32px);
    }

    /* Card Body */
    .card-body {
      padding: 40px 12px 12px;
      text-align: center;
    }

    .card-name {
      font-size: 14px;
      font-weight: 600;
      color: var(--foreground);
      margin-bottom: 4px;
    }

    .card-position {
      display: inline-block;
      font-size: 10px;
      font-weight: 600;
      padding: 3px 10px;
      border-radius: var(--radius-full);
      margin-bottom: 6px;
    }

    .card-position.attack {
      background: var(--zone-attack-light);
      color: var(--zone-attack);
    }

    .card-position.midfield {
      background: var(--zone-midfield-light);
      color: #166534;
    }

    .card-position.defense {
      background: var(--zone-defense-light);
      color: var(--zone-defense);
    }

    .card-position.support {
      background: var(--zone-support-light);
      color: var(--zone-support);
    }

    .card-dept {
      font-size: 11px;
      color: var(--muted-foreground);
      margin-bottom: 8px;
    }

    /* Mini Stats */
    .card-stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 4px;
      padding-top: 8px;
      border-top: 1px solid var(--border);
    }

    .mini-stat {
      text-align: center;
    }

    .mini-stat-value {
      font-size: 14px;
      font-weight: 700;
      color: var(--foreground);
    }

    .mini-stat-label {
      font-size: 9px;
      color: var(--muted-foreground);
      text-transform: uppercase;
    }

    /* Selected state */
    .fc-card.selected {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2), var(--shadow-medium);
    }

    /* Card hover actions */
    .card-actions {
      position: absolute;
      bottom: 8px;
      left: 8px;
      right: 8px;
      display: flex;
      gap: 4px;
      opacity: 0;
      transform: translateY(4px);
      transition: all 0.2s;
    }

    .fc-card:hover .card-actions {
      opacity: 1;
      transform: translateY(0);
    }

    .card-action-btn {
      flex: 1;
      padding: 6px 8px;
      border: none;
      border-radius: var(--radius-md);
      font-size: 11px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }

    .card-action-btn.select {
      background: var(--primary);
      color: white;
    }

    .card-action-btn.select:hover {
      background: var(--primary-dark);
    }

    .card-action-btn.delete {
      background: var(--destructive-light);
      color: var(--destructive);
    }

    .card-action-btn.delete:hover {
      background: var(--destructive);
      color: white;
    }

    /* Modal hidden by default */
    .modal-overlay {
      display: none;
    }

    .modal-overlay.visible {
      display: flex;
    }

    /* Compare Bar */
    .compare-bar {
      position: fixed;
      bottom: 0;
      left: 260px;
      right: 0;
      background: var(--card);
      border-top: 1px solid var(--border);
      padding: 16px 24px;
      display: none;
      justify-content: space-between;
      align-items: center;
      z-index: 100;
      box-shadow: 0 -4px 16px rgba(0, 0, 0, 0.08);
    }

    .compare-bar.visible {
      display: flex;
    }

    .compare-info {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .compare-avatars {
      display: flex;
    }

    .compare-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--gradient-primary);
      border: 2px solid var(--card);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: 600;
      color: white;
      margin-left: -8px;
    }

    .compare-avatar:first-child {
      margin-left: 0;
    }

    .compare-text {
      font-size: 14px;
      color: var(--foreground);
    }

    .compare-text strong {
      color: var(--primary);
    }

    .compare-actions {
      display: flex;
      gap: 12px;
    }
  </style>
</head>

<body>
  <div class="app-container">
    <!-- Sidebar (from base.css) -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-brand">
          <div class="brand-icon">‚öΩ</div>
          <div class="brand-text">
            <span class="brand-name">Ascend FC</span>
            <span class="brand-subtitle">Club Manager</span>
          </div>
        </div>
      </div>
      <nav class="sidebar-nav">
        <div class="sidebar-section">
          <div class="sidebar-section-label">Main</div>
          <a href="../football-club-setup/03-invite-team.html" class="sidebar-item"><span class="icon">üìä</span>
            Dashboard</a>
          <a href="../formation-view/06-squad-builder.html" class="sidebar-item"><span class="icon">üë•</span> Squads</a>
          <a href="../formation-view/05-formation-pitch.html" class="sidebar-item"><span class="icon">üèüÔ∏è</span>
            Formation</a>
          <a href="04-player-gallery.html" class="sidebar-item active"><span class="icon">üÉè</span> Players</a>
        </div>
        <div class="sidebar-divider"></div>
        <div class="sidebar-section">
          <div class="sidebar-section-label">Management</div>
          <a href="../formation-view/01-department-management.html" class="sidebar-item"><span class="icon">üè¢</span>
            Departments</a>
          <a href="../formation-view/02-position-management.html" class="sidebar-item"><span class="icon">üìç</span>
            Positions</a>
          <a href="../formation-view/03-attribute-library.html" class="sidebar-item"><span class="icon">üéØ</span>
            Attributes</a>
        </div>
      </nav>
      <div class="sidebar-user">
        <div class="user-avatar">JS</div>
        <div class="user-info">
          <div class="user-name">John Smith</div>
          <div class="user-role">Club Owner</div>
        </div>
        <button class="user-menu" onclick="toggleUserMenu(event)">‚ãÆ</button>
        <div class="user-dropdown" id="userDropdown"
          style="display:none; position:absolute; bottom:60px; left:16px; right:16px; background:var(--card); border:1px solid var(--border); border-radius:var(--radius-md); box-shadow:var(--shadow-medium); z-index:100;">
          <a href="#"
            style="display:block; padding:12px 16px; color:var(--foreground); text-decoration:none; font-size:14px;"
            onmouseover="this.style.background='var(--muted)'" onmouseout="this.style.background='transparent'">‚öôÔ∏è
            Settings</a>
          <a href="../football-club-setup/01-landing-registration.html"
            style="display:block; padding:12px 16px; color:var(--destructive); text-decoration:none; font-size:14px; border-top:1px solid var(--border);">üö™
            Logout</a>
        </div>
      </div>
    </aside>

    <main class="main-content">
      <!-- Clean Header -->
      <div class="gallery-header">
        <div class="header-left">
          <div class="header-icon">üÉè</div>
          <div>
            <h1 class="header-title">Squad Gallery</h1>
            <p class="header-subtitle">Manage your player roster</p>
          </div>
        </div>
        <div class="header-actions">
          <a href="05-bulk-import.html" class="btn btn-secondary">üì• Import</a>
          <a href="02-create-employee.html" class="btn btn-primary">+ Add Player</a>
        </div>
      </div>

      <!-- Stats Row -->
      <div class="stats-row">
        <div class="stat-card">
          <div class="stat-value">10</div>
          <div class="stat-label">Total Players</div>
        </div>
        <div class="stat-card zone-attack">
          <div class="stat-value">2</div>
          <div class="stat-label">‚öîÔ∏è Attack</div>
        </div>
        <div class="stat-card zone-midfield">
          <div class="stat-value">8</div>
          <div class="stat-label">üåø Midfield</div>
        </div>
        <div class="stat-card zone-defense">
          <div class="stat-value">0</div>
          <div class="stat-label">üõ°Ô∏è Defense</div>
        </div>
        <div class="stat-card zone-support">
          <div class="stat-value">0</div>
          <div class="stat-label">üè† Support</div>
        </div>
      </div>

      <!-- Filter Bar -->
      <div class="filter-bar">
        <div class="search-box">
          <span>üîç</span>
          <input type="text" placeholder="Search players..." id="searchInput" oninput="filterPlayers()">
        </div>
        <div class="filter-pills">
          <button class="filter-pill active" onclick="setZoneFilter('')" data-zone="">All<span
              class="count">(10)</span></button>
          <button class="filter-pill" onclick="setZoneFilter('attack')" data-zone="attack">‚öîÔ∏è Attack<span
              class="count">(2)</span></button>
          <button class="filter-pill" onclick="setZoneFilter('midfield')" data-zone="midfield">üåø Midfield<span
              class="count">(8)</span></button>
          <button class="filter-pill" onclick="setZoneFilter('defense')" data-zone="defense">üõ°Ô∏è Defense<span
              class="count">(0)</span></button>
          <button class="filter-pill" onclick="setZoneFilter('support')" data-zone="support">üè† Support<span
              class="count">(0)</span></button>
        </div>
        <div class="filter-spacer"></div>
        <button class="btn btn-secondary btn-sm" onclick="sortByRating()">‚Üì Sort by Rating</button>
      </div>

      <!-- Player Grid -->
      <div class="player-grid">
        <!-- Engineering - Midfield Zone (Green) -->
        <a href="03-employee-detail.html?id=1" class="fc-card" data-name="Alex Chen" data-pos="Tech Lead"
          data-rating="95" data-dept="Engineering" data-zone="midfield"
          onclick="event.ctrlKey && (event.preventDefault(), toggleSelect(this))">
          <div class="card-header midfield">
            <div class="card-rating">95</div>
            <div class="card-zone">MID</div>
            <div class="card-avatar">AC</div>
          </div>
          <div class="card-body">
            <div class="card-name">Alex Chen</div>
            <div class="card-position midfield">Tech Lead</div>
            <div class="card-dept">Engineering</div>
            <div class="card-stats">
              <div class="mini-stat">
                <div class="mini-stat-value">17</div>
                <div class="mini-stat-label">LDR</div>
              </div>
              <div class="mini-stat">
                <div class="mini-stat-value">18</div>
                <div class="mini-stat-label">TEC</div>
              </div>
              <div class="mini-stat">
                <div class="mini-stat-value">16</div>
                <div class="mini-stat-label">COM</div>
              </div>
            </div>
          </div>
        </a>

        <a href="03-employee-detail.html?id=2" class="fc-card" data-name="John Smith" data-pos="Tech Lead"
          data-rating="91" data-dept="Engineering" data-zone="midfield">
          <div class="card-header midfield">
            <div class="card-rating">91</div>
            <div class="card-zone">MID</div>
            <div class="card-avatar">JS</div>
          </div>
          <div class="card-body">
            <div class="card-name">John Smith</div>
            <div class="card-position midfield">Tech Lead</div>
            <div class="card-dept">Engineering</div>
            <div class="card-stats">
              <div class="mini-stat">
                <div class="mini-stat-value">16</div>
                <div class="mini-stat-label">LDR</div>
              </div>
              <div class="mini-stat">
                <div class="mini-stat-value">17</div>
                <div class="mini-stat-label">TEC</div>
              </div>
              <div class="mini-stat">
                <div class="mini-stat-value">15</div>
                <div class="mini-stat-label">COM</div>
              </div>
            </div>
          </div>
        </a>

        <!-- Product - Attack Zone (Red) -->
        <a href="03-employee-detail.html?id=3" class="fc-card" data-name="Sarah Kim" data-pos="Product Manager"
          data-rating="92" data-dept="Product" data-zone="attack">
          <div class="card-header attack">
            <div class="card-rating">92</div>
            <div class="card-zone">ATK</div>
            <div class="card-avatar">SK</div>
          </div>
          <div class="card-body">
            <div class="card-name">Sarah Kim</div>
            <div class="card-position attack">Product Manager</div>
            <div class="card-dept">Product</div>
            <div class="card-stats">
              <div class="mini-stat">
                <div class="mini-stat-value">16</div>
                <div class="mini-stat-label">LDR</div>
              </div>
              <div class="mini-stat">
                <div class="mini-stat-value">19</div>
                <div class="mini-stat-label">COM</div>
              </div>
              <div class="mini-stat">
                <div class="mini-stat-value">18</div>
                <div class="mini-stat-label">CRE</div>
              </div>
            </div>
          </div>
        </a>

        <a href="03-employee-detail.html?id=4" class="fc-card" data-name="Tom Wu" data-pos="Product Manager"
          data-rating="85" data-dept="Product" data-zone="attack">
          <div class="card-header attack">
            <div class="card-rating">85</div>
            <div class="card-zone">ATK</div>
            <div class="card-avatar">TW</div>
          </div>
          <div class="card-body">
            <div class="card-name">Tom Wu</div>
            <div class="card-position attack">Product Manager</div>
            <div class="card-dept">Product</div>
            <div class="card-stats">
              <div class="mini-stat">
                <div class="mini-stat-value">15</div>
                <div class="mini-stat-label">LDR</div>
              </div>
              <div class="mini-stat">
                <div class="mini-stat-value">17</div>
                <div class="mini-stat-label">COM</div>
              </div>
              <div class="mini-stat">
                <div class="mini-stat-value">16</div>
                <div class="mini-stat-label">CRE</div>
              </div>
            </div>
          </div>
        </a>

        <!-- More Engineering - Midfield -->
        <a href="03-employee-detail.html?id=5" class="fc-card" data-name="Mike Wang" data-pos="Backend Dev"
          data-rating="88" data-dept="Engineering" data-zone="midfield">
          <div class="card-header midfield">
            <div class="card-rating">88</div>
            <div class="card-zone">MID</div>
            <div class="card-avatar">MW</div>
          </div>
          <div class="card-body">
            <div class="card-name">Mike Wang</div>
            <div class="card-position midfield">Backend Dev</div>
            <div class="card-dept">Engineering</div>
            <div class="card-stats">
              <div class="mini-stat">
                <div class="mini-stat-value">14</div>
                <div class="mini-stat-label">LDR</div>
              </div>
              <div class="mini-stat">
                <div class="mini-stat-value">19</div>
                <div class="mini-stat-label">TEC</div>
              </div>
              <div class="mini-stat">
                <div class="mini-stat-value">18</div>
                <div class="mini-stat-label">PRB</div>
              </div>
            </div>
          </div>
        </a>

        <a href="03-employee-detail.html?id=6" class="fc-card" data-name="David Liu" data-pos="Backend Dev"
          data-rating="82" data-dept="Engineering" data-zone="midfield">
          <div class="card-header midfield">
            <div class="card-rating">82</div>
            <div class="card-zone">MID</div>
            <div class="card-avatar">DL</div>
          </div>
          <div class="card-body">
            <div class="card-name">David Liu</div>
            <div class="card-position midfield">Backend Dev</div>
            <div class="card-dept">Engineering</div>
            <div class="card-stats">
              <div class="mini-stat">
                <div class="mini-stat-value">13</div>
                <div class="mini-stat-label">LDR</div>
              </div>
              <div class="mini-stat">
                <div class="mini-stat-value">17</div>
                <div class="mini-stat-label">TEC</div>
              </div>
              <div class="mini-stat">
                <div class="mini-stat-value">16</div>
                <div class="mini-stat-label">PRB</div>
              </div>
            </div>
          </div>
        </a>

        <a href="03-employee-detail.html?id=7" class="fc-card" data-name="Lisa Tran" data-pos="Frontend Dev"
          data-rating="85" data-dept="Engineering" data-zone="midfield">
          <div class="card-header midfield">
            <div class="card-rating">85</div>
            <div class="card-zone">MID</div>
            <div class="card-avatar">LT</div>
          </div>
          <div class="card-body">
            <div class="card-name">Lisa Tran</div>
            <div class="card-position midfield">Frontend Dev</div>
            <div class="card-dept">Engineering</div>
            <div class="card-stats">
              <div class="mini-stat">
                <div class="mini-stat-value">12</div>
                <div class="mini-stat-label">LDR</div>
              </div>
              <div class="mini-stat">
                <div class="mini-stat-value">17</div>
                <div class="mini-stat-label">TEC</div>
              </div>
              <div class="mini-stat">
                <div class="mini-stat-value">17</div>
                <div class="mini-stat-label">CRE</div>
              </div>
            </div>
          </div>
        </a>

        <!-- Design - Midfield -->
        <a href="03-employee-detail.html?id=8" class="fc-card" data-name="Emma Lee" data-pos="UX Designer"
          data-rating="91" data-dept="Design" data-zone="midfield">
          <div class="card-header midfield">
            <div class="card-rating">91</div>
            <div class="card-zone">MID</div>
            <div class="card-avatar">EL</div>
          </div>
          <div class="card-body">
            <div class="card-name">Emma Lee</div>
            <div class="card-position midfield">UX Designer</div>
            <div class="card-dept">Design</div>
            <div class="card-stats">
              <div class="mini-stat">
                <div class="mini-stat-value">14</div>
                <div class="mini-stat-label">LDR</div>
              </div>
              <div class="mini-stat">
                <div class="mini-stat-value">20</div>
                <div class="mini-stat-label">CRE</div>
              </div>
              <div class="mini-stat">
                <div class="mini-stat-value">18</div>
                <div class="mini-stat-label">COM</div>
              </div>
            </div>
          </div>
        </a>

        <a href="03-employee-detail.html?id=9" class="fc-card" data-name="Kevin Park" data-pos="QA Engineer"
          data-rating="76" data-dept="Engineering" data-zone="midfield">
          <div class="card-header midfield">
            <div class="card-rating">76</div>
            <div class="card-zone">MID</div>
            <div class="card-avatar">KP</div>
          </div>
          <div class="card-body">
            <div class="card-name">Kevin Park</div>
            <div class="card-position midfield">QA Engineer</div>
            <div class="card-dept">Engineering</div>
            <div class="card-stats">
              <div class="mini-stat">
                <div class="mini-stat-value">10</div>
                <div class="mini-stat-label">LDR</div>
              </div>
              <div class="mini-stat">
                <div class="mini-stat-value">14</div>
                <div class="mini-stat-label">TEC</div>
              </div>
              <div class="mini-stat">
                <div class="mini-stat-value">17</div>
                <div class="mini-stat-label">ATT</div>
              </div>
            </div>
          </div>
        </a>

        <a href="03-employee-detail.html?id=10" class="fc-card" data-name="Chris Nguyen" data-pos="Junior Dev"
          data-rating="62" data-dept="Engineering" data-zone="midfield">
          <div class="card-header midfield">
            <div class="card-rating">62</div>
            <div class="card-zone">MID</div>
            <div class="card-avatar">CN</div>
          </div>
          <div class="card-body">
            <div class="card-name">Chris Nguyen</div>
            <div class="card-position midfield">Junior Dev</div>
            <div class="card-dept">Engineering</div>
            <div class="card-stats">
              <div class="mini-stat">
                <div class="mini-stat-value">8</div>
                <div class="mini-stat-label">LDR</div>
              </div>
              <div class="mini-stat">
                <div class="mini-stat-value">12</div>
                <div class="mini-stat-label">TEC</div>
              </div>
              <div class="mini-stat">
                <div class="mini-stat-value">14</div>
                <div class="mini-stat-label">ADP</div>
              </div>
            </div>
          </div>
        </a>
      </div>
    </main>
  </div>

  <!-- Compare Bar -->
  <div class="compare-bar" id="compareBar">
    <div class="compare-info">
      <div class="compare-avatars" id="compareAvatars"></div>
      <div class="compare-text"><strong id="compareCount">0</strong> players selected (Ctrl+Click cards to select)</div>
    </div>
    <div class="compare-actions">
      <button class="btn btn-secondary" onclick="clearSelection()">Clear</button>
      <button class="btn btn-primary" onclick="openCompareModal()">‚öñÔ∏è Compare</button>
    </div>
  </div>

  <!-- Compare Modal -->
  <div class="modal-overlay" id="compareModal" onclick="if(event.target===this) closeCompareModal()">
    <div class="modal" style="max-width: 700px;" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2 class="modal-title">‚öñÔ∏è Compare Players</h2>
        <button class="modal-close" onclick="closeCompareModal()">√ó</button>
      </div>
      <div class="modal-body" id="compareContent">
        <!-- Populated by JavaScript -->
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeCompareModal()">Close</button>
      </div>
    </div>
  </div>

  <!-- Delete Modal -->
  <div class="modal-overlay" id="deleteModal" onclick="if(event.target===this) closeDeleteModal()">
    <div class="modal" style="max-width: 400px;">
      <div class="modal-header">
        <h2 class="modal-title">üóëÔ∏è Delete Player?</h2>
        <button class="modal-close" onclick="closeDeleteModal()">√ó</button>
      </div>
      <div class="modal-body" style="text-align: center;">
        <div style="font-size: 48px; margin-bottom: 16px;">‚ö†Ô∏è</div>
        <p>Are you sure you want to delete:</p>
        <p style="font-weight: 600; font-size: 18px; margin: 12px 0;" id="deletePlayerName"></p>
        <p style="color: var(--destructive); font-size: 13px;">This action cannot be undone.</p>
      </div>
      <div class="modal-footer" style="justify-content: center;">
        <button class="btn btn-secondary" onclick="closeDeleteModal()">Cancel</button>
        <button class="btn btn-destructive" onclick="confirmDelete()">Delete Player</button>
      </div>
    </div>
  </div>

  <script>
    let selectedCards = [];
    let currentZone = '';
    let sortAsc = false;

    // Initialize cards with action buttons
    document.addEventListener('DOMContentLoaded', function () {
      document.querySelectorAll('.fc-card').forEach(card => {
        const name = card.dataset.name;
        const actionsDiv = document.createElement('div');
        actionsDiv.className = 'card-actions';
        actionsDiv.innerHTML = `
          <button class="card-action-btn select" onclick="event.preventDefault(); toggleSelect(this.closest('.fc-card'))">‚úì Select</button>
          <button class="card-action-btn delete" onclick="showDeleteModal('${name}', this.closest('.fc-card'), event)">üóëÔ∏è</button>
        `;
        card.appendChild(actionsDiv);
      });
    });

    function setZoneFilter(zone) {
      currentZone = zone;
      document.querySelectorAll('.filter-pill').forEach(p => {
        p.classList.toggle('active', p.dataset.zone === zone);
      });
      filterPlayers();
    }

    function filterPlayers() {
      const search = document.getElementById('searchInput').value.toLowerCase();
      const cards = document.querySelectorAll('.fc-card');

      cards.forEach(card => {
        const name = card.dataset.name.toLowerCase();
        const pos = card.dataset.pos.toLowerCase();
        const cardZone = card.dataset.zone;

        const matchesSearch = name.includes(search) || pos.includes(search);
        const matchesZone = !currentZone || cardZone === currentZone;

        card.style.display = (matchesSearch && matchesZone) ? 'block' : 'none';
      });
    }

    function sortByRating() {
      const grid = document.querySelector('.player-grid');
      const cards = Array.from(grid.querySelectorAll('.fc-card'));
      cards.sort((a, b) => {
        const ratingA = parseInt(a.dataset.rating);
        const ratingB = parseInt(b.dataset.rating);
        return sortAsc ? ratingA - ratingB : ratingB - ratingA;
      });
      cards.forEach(card => grid.appendChild(card));
      sortAsc = !sortAsc;
    }

    function toggleSelect(card) {
      const name = card.dataset.name;
      const initials = name.split(' ').map(n => n[0]).join('');

      if (!card.classList.contains('selected')) {
        if (selectedCards.length >= 3) return;
        card.classList.add('selected');
        selectedCards.push({ name, initials, element: card });
      } else {
        card.classList.remove('selected');
        selectedCards = selectedCards.filter(c => c.name !== name);
      }
      updateCompareBar();
    }

    function updateCompareBar() {
      const bar = document.getElementById('compareBar');
      const avatars = document.getElementById('compareAvatars');
      const count = document.getElementById('compareCount');

      bar.classList.toggle('visible', selectedCards.length >= 2);
      avatars.innerHTML = selectedCards.map(c => `<div class="compare-avatar">${c.initials}</div>`).join('');
      count.textContent = selectedCards.length;
    }

    function clearSelection() {
      document.querySelectorAll('.fc-card.selected').forEach(c => c.classList.remove('selected'));
      selectedCards = [];
      updateCompareBar();
    }

    function openCompareModal() {
      if (selectedCards.length < 2) return;

      // Get departments of selected players
      const departments = selectedCards.map(c => c.element.dataset.dept);
      const sameDept = departments.every(d => d === departments[0]);

      const modal = document.getElementById('compareModal');
      const compareContent = document.getElementById('compareContent');

      // Mock attribute data for players
      const playerData = {
        'Alex Chen': { leadership: 17, technical: 18, communication: 16, problem: 17, teamwork: 14 },
        'John Smith': { leadership: 16, technical: 17, communication: 15, problem: 15, teamwork: 16 },
        'Sarah Kim': { leadership: 15, technical: 14, communication: 18, problem: 13, teamwork: 17 },
        'Mike Wang': { leadership: 14, technical: 16, communication: 14, problem: 16, teamwork: 15 },
        'Emma Lee': { leadership: 13, technical: 15, communication: 17, problem: 14, teamwork: 18 },
        'David Park': { leadership: 15, technical: 13, communication: 15, problem: 12, teamwork: 14 },
        'Lisa Chen': { leadership: 12, technical: 14, communication: 16, problem: 13, teamwork: 15 },
        'Tom Brown': { leadership: 14, technical: 15, communication: 13, problem: 15, teamwork: 13 },
        'Amy Wilson': { leadership: 16, technical: 12, communication: 17, problem: 11, teamwork: 16 },
        'James Lee': { leadership: 11, technical: 17, communication: 12, problem: 16, teamwork: 12 }
      };

      let html = '';

      // Warning if different departments
      if (!sameDept) {
        html += `<div style="background: #fef3c7; border: 1px solid #f59e0b; border-radius: 8px; padding: 12px; margin-bottom: 16px; display: flex; align-items: center; gap: 8px;">
          <span style="font-size: 20px;">‚ö†Ô∏è</span>
          <div>
            <strong style="color: #92400e;">Different Departments Selected</strong>
            <p style="color: #92400e; font-size: 13px; margin: 4px 0 0 0;">Comparing players from different departments may not be meaningful. Consider selecting players from the same team.</p>
          </div>
        </div>`;
      }

      // Department header
      html += `<div style="text-align: center; margin-bottom: 20px;">
        <span style="background: var(--muted); padding: 6px 16px; border-radius: 20px; font-size: 13px; font-weight: 500;">
          ${sameDept ? 'üìÅ ' + departments[0] : 'üìÅ Multiple Departments'}
        </span>
      </div>`;

      // Player cards row
      html += '<div style="display: flex; justify-content: center; gap: 24px; margin-bottom: 24px;">';
      const colors = ['#3b82f6', '#22c55e', '#a855f7'];
      selectedCards.forEach((c, i) => {
        const card = c.element;
        html += `<div style="text-align: center;">
          <div style="width: 60px; height: 60px; border-radius: 50%; background: ${colors[i]}; color: white; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 20px; margin: 0 auto 8px; border: 3px solid ${colors[i]}40;">${c.initials}</div>
          <div style="font-weight: 600; font-size: 14px;">${c.name}</div>
          <div style="color: var(--muted-foreground); font-size: 12px;">${card.dataset.pos}</div>
          <div style="font-weight: 700; font-size: 18px; margin-top: 4px;">${card.dataset.rating}</div>
        </div>`;
      });
      html += '</div>';

      // Spider Chart
      html += '<div style="text-align: center; margin-bottom: 24px;">';
      html += '<h4 style="font-size: 14px; color: var(--muted-foreground); margin-bottom: 12px;">Attribute Profile Comparison</h4>';
      html += generateSpiderChart(selectedCards, playerData, colors);

      // Legend
      html += '<div style="display: flex; justify-content: center; gap: 24px; margin-top: 12px;">';
      selectedCards.forEach((c, i) => {
        html += `<div style="display: flex; align-items: center; gap: 6px;">
          <div style="width: 12px; height: 12px; background: ${colors[i]}; border-radius: 2px;"></div>
          <span style="font-size: 13px;">${c.name}</span>
        </div>`;
      });
      html += '</div></div>';

      // Attribute comparison table
      html += '<table style="width:100%; border-collapse:collapse; font-size: 14px;">';
      html += '<thead><tr><th style="padding:10px; text-align:left; border-bottom:2px solid var(--border);">Attribute</th>';
      selectedCards.forEach((c, i) => {
        html += `<th style="padding:10px; text-align:center; border-bottom:2px solid var(--border); color: ${colors[i]};">${c.name.split(' ')[0]}</th>`;
      });
      if (selectedCards.length === 2) {
        html += '<th style="padding:10px; text-align:center; border-bottom:2px solid var(--border);">Diff</th>';
      }
      html += '</tr></thead><tbody>';

      const attrs = [
        { key: 'leadership', icon: 'üéØ', name: 'Leadership' },
        { key: 'technical', icon: 'üíª', name: 'Technical' },
        { key: 'communication', icon: 'üí¨', name: 'Communication' },
        { key: 'problem', icon: 'üß©', name: 'Problem Solving' },
        { key: 'teamwork', icon: 'ü§ù', name: 'Teamwork' }
      ];

      attrs.forEach(attr => {
        html += `<tr><td style="padding:10px; border-bottom:1px solid var(--border);">${attr.icon} ${attr.name}</td>`;
        const values = selectedCards.map(c => playerData[c.name]?.[attr.key] || 10);
        values.forEach((val, i) => {
          html += `<td style="padding:10px; text-align:center; border-bottom:1px solid var(--border); font-weight:600;">${val}</td>`;
        });
        if (selectedCards.length === 2) {
          const diff = values[0] - values[1];
          const diffColor = diff > 0 ? '#22c55e' : diff < 0 ? '#ef4444' : 'var(--muted-foreground)';
          const diffText = diff > 0 ? `‚ñ≤+${diff}` : diff < 0 ? `‚ñº${diff}` : '‚Äî';
          html += `<td style="padding:10px; text-align:center; border-bottom:1px solid var(--border); color:${diffColor}; font-weight:600;">${diffText}</td>`;
        }
        html += '</tr>';
      });
      html += '</tbody></table>';

      compareContent.innerHTML = html;
      modal.classList.add('visible');
    }

    // Generate SVG Spider Chart
    function generateSpiderChart(players, data, colors) {
      const size = 280;
      const center = size / 2;
      const maxRadius = 100;
      const attrs = ['leadership', 'technical', 'communication', 'problem', 'teamwork'];
      const labels = ['Leadership', 'Technical', 'Communication', 'Problem Solving', 'Teamwork'];
      const angleStep = (2 * Math.PI) / 5;
      const startAngle = -Math.PI / 2; // Start from top

      let svg = `<svg width="${size}" height="${size}" viewBox="0 0 ${size} ${size}" style="display: inline-block;">`;

      // Draw grid lines (pentagon shapes at 25%, 50%, 75%, 100%)
      [0.25, 0.5, 0.75, 1].forEach(level => {
        const r = maxRadius * level;
        let points = '';
        for (let i = 0; i < 5; i++) {
          const angle = startAngle + i * angleStep;
          const x = center + r * Math.cos(angle);
          const y = center + r * Math.sin(angle);
          points += `${x},${y} `;
        }
        svg += `<polygon points="${points.trim()}" fill="none" stroke="#e5e7eb" stroke-width="1"/>`;
      });

      // Draw axis lines
      for (let i = 0; i < 5; i++) {
        const angle = startAngle + i * angleStep;
        const x = center + maxRadius * Math.cos(angle);
        const y = center + maxRadius * Math.sin(angle);
        svg += `<line x1="${center}" y1="${center}" x2="${x}" y2="${y}" stroke="#e5e7eb" stroke-width="1"/>`;
      }

      // Draw player polygons
      players.forEach((player, pIdx) => {
        const playerAttrs = data[player.name] || { leadership: 10, technical: 10, communication: 10, problem: 10, teamwork: 10 };
        let points = '';
        for (let i = 0; i < 5; i++) {
          const angle = startAngle + i * angleStep;
          const value = playerAttrs[attrs[i]] || 10;
          const r = (value / 20) * maxRadius;
          const x = center + r * Math.cos(angle);
          const y = center + r * Math.sin(angle);
          points += `${x},${y} `;
        }
        svg += `<polygon points="${points.trim()}" fill="${colors[pIdx]}30" stroke="${colors[pIdx]}" stroke-width="2"/>`;
        // Draw dots at vertices
        for (let i = 0; i < 5; i++) {
          const angle = startAngle + i * angleStep;
          const value = playerAttrs[attrs[i]] || 10;
          const r = (value / 20) * maxRadius;
          const x = center + r * Math.cos(angle);
          const y = center + r * Math.sin(angle);
          svg += `<circle cx="${x}" cy="${y}" r="4" fill="${colors[pIdx]}"/>`;
        }
      });

      // Draw labels
      const labelOffsets = [
        { dx: 0, dy: -15, anchor: 'middle' },  // top
        { dx: 15, dy: 5, anchor: 'start' },    // right-top
        { dx: 10, dy: 10, anchor: 'start' },   // right-bottom
        { dx: -10, dy: 10, anchor: 'end' },    // left-bottom
        { dx: -15, dy: 5, anchor: 'end' }      // left-top
      ];
      for (let i = 0; i < 5; i++) {
        const angle = startAngle + i * angleStep;
        const x = center + (maxRadius + 20) * Math.cos(angle) + labelOffsets[i].dx;
        const y = center + (maxRadius + 20) * Math.sin(angle) + labelOffsets[i].dy;
        svg += `<text x="${x}" y="${y}" text-anchor="${labelOffsets[i].anchor}" font-size="11" fill="#6b7280">${labels[i]}</text>`;
      }

      svg += '</svg>';
      return svg;
    }

    function closeCompareModal() {
      document.getElementById('compareModal').classList.remove('visible');
    }

    function toggleUserMenu(e) {
      e.stopPropagation();
      const dropdown = document.getElementById('userDropdown');
      dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
    }
    document.addEventListener('click', () => {
      const dropdown = document.getElementById('userDropdown');
      if (dropdown) dropdown.style.display = 'none';
    });

    // Delete functions
    let deleteTarget = null;

    function showDeleteModal(name, cardElement, e) {
      e.preventDefault();
      e.stopPropagation();
      deleteTarget = cardElement;
      document.getElementById('deletePlayerName').textContent = name;
      document.getElementById('deleteModal').classList.add('visible');
    }

    function closeDeleteModal() {
      document.getElementById('deleteModal').classList.remove('visible');
      deleteTarget = null;
    }

    function confirmDelete() {
      if (deleteTarget) {
        deleteTarget.style.transition = 'all 0.3s';
        deleteTarget.style.opacity = '0';
        deleteTarget.style.transform = 'scale(0.8)';
        setTimeout(() => {
          deleteTarget.remove();
          deleteTarget = null;
        }, 300);
      }
      closeDeleteModal();
    }
  </script>
</body>

</html>